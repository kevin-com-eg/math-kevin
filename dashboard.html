import { useEffect, useState } from "react";
import { db } from "./firebase-config"; // ملف إعدادات فايربيز بتاعك
import { collection, getDocs } from "firebase/firestore";

function Dashboard() {
  const [stats, setStats] = useState({ students: 0, lessons: 0 });

  useEffect(() => {
    const fetchData = async () => {
      const studentsCol = await getDocs(collection(db, "students"));
      const lessonsCol = await getDocs(collection(db, "lessons"));
      setStats({
        students: studentsCol.size,
        lessons: lessonsCol.size
      });
    };
    fetchData();
  }, []);

  return (
    <div className="dashboard-container">
      <h1>مرحباً بك في لوحة التحكم</h1>
      <div className="cards">
        <div className="card">عدد الطلاب: {stats.students}</div>
        <div className="card">عدد الدروس: {stats.lessons}</div>
      </div>
    </div>
  );
}
